<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>결과</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container row">
    <img id="character" class="character">
    <div class="bubble" id="bubbleText"></div>
  </div>

  <button onclick="reroll()">싫어 다시 골라줘</button>
  <p> </p>
<button onclick="location.href='index.html'">
    돌아가기
  </button>
  <script src="character.js"></script>
  <script>
  const spicyMenus = [
    "떡볶이",
    "불닭볶음면",
    "마라탕",
    "김치찌개",
    "부대찌개",
    "짜글이",
    "순두부찌개",
    "닭볶음탕",
    "제육볶음",
    "짬뽕",
    "비빔국수",
    "매운냉면",
    "갱시기국밥",
    "쫄면",
    "마파두부",
    "매운 국밥",
    "우거지해장국",
    "김치찜",
    "엽기떡볶이",
    "야채곱창",
    "콩불",
    "불막창",
    "매운 닭갈비"
  ];

  const mildMenus = [
    "돈까스",
    "불고기",
    "비빔밥",
    "고등어백반",
    "오므라이스",
    "낙지김치죽",
    "솥밥",
    "잡채밥",
    "이삭토스트",
    "설렁탕",
    "김치말이국수",
    "참치마요덮밥",
    "스팸마요덮밥",
    "스팸무스비",
    "타코",
    "계란찜",
    "갈비탕",
    "김밥",
    "치킨까스",
    "규동",
    "가츠동",
    "쌈밥",
    "탕수육",
    "토마토달걀볶음",
    "팟타이",
    "피자",
    "케밥",
    "뇨끼",
    "샐러드파스타",
    "떡만둣국",
    "김치볶음밥",
    "육회비빔밥",
    "연어덮밥",
    "부리또",
    "쌀국수",
    "치킨마요덮밥",
    "봉구스밥버거",
    "짜장면",
    "카레",
    "가라아게카레",
    "돈까스카레",
    "돼지국밥",
    "어묵탕",
    "토마토파스타",
    "알리오올리오",
    "잔치국수",
    "비빔국수",
    "칼국수",
    "냉면",
    "써브웨이",
    "햄버거",
    "떡튀순",
    "콩국수",
    "갈비찜",
    "뚝불고기",
    "찜닭",
    "초밥",
    "파스타",
    "카레",
    "된장찌개",
    "우동"
  ];

  // 😑 투덜 멘트
  const complainMessages = [
    "아니 또 싫어?",
    "그럼 뭐 먹을 건데…",
    "에이 까다롭네",
    "이번엔 진짜 괜찮은데",
    "하… 다시 고른다?"
  ];

  // 📸 캐릭터 이미지
  const defaultImage = "images/default.png";
  const complainImage = "images/complain.png"; // 투덜 표정

  const params = new URLSearchParams(location.search);
  const type = params.get("type");
  const menus = type === "spicy" ? spicyMenus : mildMenus;

  const bubble = document.getElementById("bubbleText");
  const character = document.getElementById("character");

  let rerollCount = 0;

  function pickMenu() {
  const menu = menus[Math.floor(Math.random() * menus.length)];
  bubble.innerText = `오늘은 ${menu} 먹어라.`;
  character.src = defaultImage;

  bubble.className = "bubble default";  // ⭐ 추가
}

  function reroll() {
    rerollCount++;

    // 🔟 10번 넘으면 엔딩
     if (rerollCount >= 10) {
    bubble.innerText = "그냥 굶어라.";
    character.src = complainImage;
    bubble.className = "bubble angry";  // ⭐ 추가
    return;
  }

    // 😑 투덜
    const complain =
    complainMessages[Math.floor(Math.random() * complainMessages.length)];

  bubble.innerText = complain;
  character.src = complainImage;

  bubble.className = "bubble grumpy";  // ⭐ 추가

    // 다시 추천
    setTimeout(() => {
      pickMenu();
    }, 900);
  }

  // 처음 진입 시
  pickMenu();
</script>
</body>
</html>
