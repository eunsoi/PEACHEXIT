<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>결과</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container row">
    <img id="character" class="character">
    <div class="bubble" id="bubbleText"></div>
  </div>

  <button onclick="reroll()">싫어 다시 골라줘</button>
  <p> </p>
<button onclick="location.href='index.html'">
    돌아가기
  </button>
  <script src="character.js"></script>
  <script>
  const spicyMenus = [
    "떡볶이",
    "불닭볶음면",
    "마라탕",
    "김치찌개",
    "매운 닭갈비"
  ];

  const mildMenus = [
    "돈까스",
    "초밥",
    "파스타",
    "카레",
    "우동"
  ];

  // 😑 투덜 멘트
  const complainMessages = [
    "아니 또 싫어?",
    "그럼 뭐 먹을 건데…",
    "에이 까다롭네",
    "이번엔 진짜 괜찮은데",
    "하… 다시 고른다?"
  ];

  // 📸 캐릭터 이미지
  const defaultImage = "images/default.png";
  const complainImage = "images/complain.png"; // 투덜 표정

  const params = new URLSearchParams(location.search);
  const type = params.get("type");
  const menus = type === "spicy" ? spicyMenus : mildMenus;

  const bubble = document.getElementById("bubbleText");
  const character = document.getElementById("character");

  let rerollCount = 0;

  function pickMenu() {
    const menu = menus[Math.floor(Math.random() * menus.length)];
    bubble.innerText = `오늘은 ${menu} 먹어라.`;
    character.src = defaultImage;
  }

  function reroll() {
    rerollCount++;

    // 🔟 10번 넘으면 엔딩
    if (rerollCount >= 10) {
      bubble.innerText = "그냥 굶어라.";
      character.src = complainImage;
      return;
    }

    // 😑 투덜
    const complain =
      complainMessages[Math.floor(Math.random() * complainMessages.length)];

    bubble.innerText = complain;
    character.src = complainImage;

    // 다시 추천
    setTimeout(() => {
      pickMenu();
    }, 900);
  }

  // 처음 진입 시
  pickMenu();
</script>
</body>
</html>
